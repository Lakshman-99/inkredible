{% extends 'template.html' %}

{% block head %}
<link rel="stylesheet" type= "text/css" href="{{ url_for('static', filename='css/texttospeech.css') }}" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

{% endblock %}

{% block nav %}
<a href="/home">HOME</a>
<a href="/login">LOGIN</a>
{% endblock %}

{% block body %}
<span id="text-box"></span>

<center style="padding-top: 175px;">
    <header>
        {% if msg %}
        <div class="alert alert-primary" id="alert" role="alert">
        {{ msg }}
        </div>
        {% endif %}
    </header>

    <div class="cover-container">

        <main role="main" class="inner cover">



        <h1 class="cover-heading">Text To Speech</h1>
            <br>
        <p class="lead">Please enter the text in the box to perform speech(English)</p>
            <br>
            <div class="wrapper">
            <label for="text" style="font-size:22px; font-weight:bolder;">Text to speak:</label>
            <textarea id="text">Hello! Feel free to change this text and don't forget to turn your volume on.</textarea>
            <button id="speak" type="submit" class="outline" value="UPLOAD" style="margin-top: 24px">SPEAK</button>
              </div>

        <footer class="mastfoot mt-auto">
          <div class="inner">
          </div>
        </footer>
      </div>
</center>

{% endblock %}

{% block scripts %}
<script type="text/javascript">
  const textEl = document.getElementById('text');
  const speakEl = document.getElementById('speak');

  speakEl.addEventListener('click', speakText);

  function speakText() {
    window.speechSynthesis.cancel();

    const text = textEl.value;
    const utterance = new SpeechSynthesisUtterance(text);
    window.speechSynthesis.speak(utterance);
  }
</script>
{% endblock %}
